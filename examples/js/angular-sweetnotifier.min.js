!function(e,t){"use strict";"object"==typeof exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){"use strict";var t="angular-sweetnotifier",i=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0},n=window.Notification||window.mozNotification||window.webkitNotification;n&&n.requestPermission(function(){});var o=e.module(t,[]),r=["info","success","warning","error"],c=["top","middle","bottom"],f=["left","center","right"],s={};s[i("top")&i("left")]="top-left",s[i("top")&i("center")]="top-center",s[i("top")&i("right")]="top-right",s[i("middle")&i("left")]="middle-left",s[i("middle")&i("center")]="middle-center",s[i("middle")&i("right")]="middle-right",s[i("bottom")&i("left")]="bottom-left",s[i("bottom")&i("center")]="bottom-center",s[i("bottom")&i("right")]="bottom-right";var a,d={type:"info",useNative:!1,timeout:15e3,title:"",content:""},l=i("top")&i("center"),u=!0,m=!1,p=function(t){var n=[];if(e.forEach(t,function(e){this.push(e.replace(/ /g,""))},n),0!==n.length){if(1===n.length){if(c.indexOf(n[0])>-1)return i(n[0])&i("center");if(f.indexOf(n[0])>-1)return i("top")&i(n[0])}return c.indexOf(n[0])>-1?i(n[0])&i(f.indexOf(n[1])>-1?n[1]:"center"):f.indexOf(n[0])>-1?i(c.indexOf(n[1])>-1?n[1]:"top")&i(n[0]):c.indexOf(n[1])>-1?i(n[1])&i(f.indexOf(n[0])>-1?n[0]:"center"):f.indexOf(n[1])>-1?i(c.indexOf(n[0])>-1?n[0]:"top")&i(n[1]):void 0}};o.provider("notifier",function(){this.setPlacement=function(){var e=Array.prototype.slice.call(arguments),t=p(e);t&&(l=t)},this.setUseNativeWhileBlur=function(e){u=!!e},this.setNativeIcons=function(t){e.isObject(t)&&(a=t)},this.$get=["$rootScope",function(t){var i=function(i){t.$broadcast("newsweetnotification",e.merge({},d,i))};return{emit:i}}]});var v=function(t,i,o){return{restrict:"E",link:function(c,f,d){var v=function(){m=!0},w=function(){m=!1},g=e.element(o);g.on("blur",v),g.on("focus",w),c.items=[],c.placement=s[l],d.$observe("placement",function(e){if("undefined"!=typeof e&&""!==e){var t=p(e.split(","));t&&(l=s[t],c.placement=l)}}),d.$observe("useNativeWhileBlur",function(e){"undefined"!=typeof e&&""!==e&&(u="true"===e)}),d.$observe("nativeIcons",function(e){if("undefined"!=typeof e&&""!==e)try{a=JSON.parse(e)}catch(t){}}),c.remove=function(e){var t=c.items.indexOf(e);t>-1&&c.items.splice(t,1),i.cancel(e.promiseId)},t.$on("newsweetnotification",function(e,t){if((t.useNative||u&&m)&&n)return void new n(t.title,{body:t.content,dir:"auto",lang:"en-US",tag:"notificationPopup",icon:a?a[t.type]:""});var o={title:t.title,content:t.content,type:r.indexOf(t.type)<0?r[0]:t.type,promiseId:i(function(){c.remove(o)},t.timeout)};c.items.unshift(o)}),c.$on("$destroy",function(){g.off("blur",v),g.off("focus",w)})},template:'<div class="sweetnotifier-wrapper" ng-class="placement">    <div class="sweetnotifier" ng-repeat="item in items">        <div class="sweetnotifier-close" ng-click="remove(item)">            <i class="icon-close"></i>        </div>        <div class="sweetnotifier-image"><i class="icon-{{item.type}}"></i></div>        <div class="sweetnotifier-content">            <h3 class="sweetnotifier-title">{{item.title}}</h3>            <div class="sweetnotifier-text">{{item.content}}</div>        </div>    </div></div>'}};return o.directive("sweetnotifier",["$rootScope","$timeout","$window",v]),t});